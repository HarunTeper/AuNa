{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "ROS2Build-Gazebo",
            "type": "shell",
            "command": "cd packages && colcon build --packages-select auna_gazebo auna_common auna_msgs --symlink-install --cmake-args -DCMAKE_EXPORT_COMPILE_COMMANDS=ON && mv build/compile_commands.json ..",
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "ROS2Build-Teleoperation",
            "type": "shell",
            "command": "cd packages && colcon build --packages-select auna_teleoperation --symlink-install --cmake-args -DCMAKE_EXPORT_COMPILE_COMMANDS=ON",
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "ROS2Build-Nav2",
            "type": "shell",
            "command": "cd packages && colcon build --packages-select auna_nav2 --symlink-install --cmake-args -DCMAKE_EXPORT_COMPILE_COMMANDS=ON",
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "ROS2Build-Scenarios",
            "type": "shell",
            "command": "cd packages && colcon build --packages-select auna_scenarios --symlink-install --cmake-args -DCMAKE_EXPORT_COMPILE_COMMANDS=ON",
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "LaunchGazebo",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_gazebo gazebo_world.launch.py",
            "problemMatcher": []
        },
        {
            "label": "LaunchMultiRobotSpawn",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_gazebo spawn_multi_robot.launch.py robot_number:=${input:robotCount}",
            "problemMatcher": []
        },
        {
            "label": "LaunchGroundTruthLocalization",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_gazebo ground_truth_localization.launch.py namespace:=${input:robotNamespace}",
            "problemMatcher": [],
        },
        {
            "label": "LaunchNavigation",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_nav2 navigation_multi_robot.launch.py namespace:=${input:robotNamespace} robot_number:=${input:robotCount} enable_slam:=false enable_localization:=true enable_navigation:=true enable_rviz:=true enable_map_server:=true",
            "problemMatcher": []
        },
        {
            "label": "LaunchScenarioSingleRobotRacetrack",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_scenarios scenario_single_robot_racetrack.launch.py namespace:=${input:robotNamespace}",
            "problemMatcher": []
        },
        {
            "label": "LaunchScenarioMultiRobotRacetrack",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_scenarios scenario_multi_robot_racetrack.launch.py namespace:=${input:robotNamespace} robot_number:=${input:robotCount}",
            "problemMatcher": []
        },
        {
            "label": "ROS2Build-Wallfollowing",
            "type": "shell",
            "command": "cd packages && colcon build --packages-select fp_wallfollowing --symlink-install --cmake-args -DCMAKE_EXPORT_COMPILE_COMMANDS=ON",
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "ROS2Build-F110",
            "type": "shell",
            "command": "git submodule update --init && cd packages && colcon build --packages-select auna_msgs auna_f110 auna_common vesc vesc_ackermann vesc_msgs vesc_driver --symlink-install --cmake-args -DCMAKE_EXPORT_COMPILE_COMMANDS=ON",
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "LaunchF110Platform",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_f110 f110_platform.launch.py",
            "problemMatcher": []
        },
        {
            "label": "LaunchF110Joy",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_f110 joy.launch.py use_ps4:=true",
            "problemMatcher": []
        },
        {
            "label": "LaunchF110RViz",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 launch auna_f110 rviz.launch.py",
            "problemMatcher": []
        },
        {
            "label": "LaunchTeleop",
            "type": "shell",
            "command": "cd packages && source install/setup.bash && ros2 run auna_teleoperation keyboard_teleop_hold --ros-args -r /cmd_vel:=${input:teleopCmdVel} --params-file src/auna_teleoperation/config/key_teleop.yaml",
            "problemMatcher": []
        }
    ],
    "inputs": [
        {
            "id": "robotNamespace",
            "type": "promptString",
            "description": "Enter the robot namespace",
            "default": "robot"
        },
        {
            "id": "robotCount",
            "type": "promptString",
            "description": "Enter the number of robots to spawn",
            "default": "2"
        },
        {
            "id": "teleopCmdVel",
            "type": "promptString",
            "description": "Enter the cmd_vel topic to remap to (don't forget to inlcude the namespace for the robot that you wish to control eg. 'robot0/cmd_vel')",
            "default": "cmd_vel"
        },
    ]
}